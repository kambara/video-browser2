{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/VideoList.vue?bfc3","webpack:///./src/mixins/VideoPath.vue","webpack:///./src/App.vue?03ff","webpack:///./src/App.vue?bff9","webpack:///./src/views/VideoDirPage.vue?ed91","webpack:///./src/components/ListHeader.vue?7fab","webpack:///src/mixins/VideoPath.vue","webpack:///./src/mixins/VideoPath.vue?9b64","webpack:///src/components/ListHeader.vue","webpack:///./src/components/ListHeader.vue?8da9","webpack:///./src/components/ListHeader.vue","webpack:///./src/components/VideoList.vue?3f29","webpack:///src/components/VideoList.vue","webpack:///./src/components/VideoList.vue?3f63","webpack:///./src/components/VideoList.vue","webpack:///./src/components/ThumbnailerProgress.vue?aead","webpack:///src/components/ThumbnailerProgress.vue","webpack:///./src/mixins/VideoUtil.vue","webpack:///./src/components/ThumbnailerProgress.vue?9fda","webpack:///./src/components/ThumbnailerProgress.vue","webpack:///src/views/VideoDirPage.vue","webpack:///./src/views/VideoDirPage.vue?6c4e","webpack:///./src/views/VideoDirPage.vue","webpack:///./src/views/VideoPage.vue?f0cc","webpack:///./src/components/VideoPlayer.vue?d165","webpack:///src/mixins/VideoUtil.vue","webpack:///./src/mixins/VideoUtil.vue?cc0c","webpack:///src/components/VideoPlayer.vue","webpack:///./src/components/VideoPlayer.vue?6a50","webpack:///./src/components/VideoPlayer.vue","webpack:///./src/components/SceneList.vue?4cd3","webpack:///src/components/SceneList.vue","webpack:///./src/components/SceneList.vue?88f3","webpack:///./src/components/SceneList.vue","webpack:///./src/enums/enum.js","webpack:///src/views/VideoPage.vue","webpack:///./src/views/VideoPage.vue?7c96","webpack:///./src/views/VideoPage.vue","webpack:///./src/views/RandomPage.vue?89a1","webpack:///src/views/RandomPage.vue","webpack:///./src/views/RandomPage.vue?fa08","webpack:///./src/views/RandomPage.vue","webpack:///./src/views/SearchPage.vue?222f","webpack:///./src/components/SearchHeader.vue?6608","webpack:///src/components/SearchHeader.vue","webpack:///./src/components/SearchHeader.vue?d421","webpack:///./src/components/SearchHeader.vue","webpack:///src/views/SearchPage.vue","webpack:///./src/views/SearchPage.vue?e4fc","webpack:///./src/views/SearchPage.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/ThumbnailerProgress.vue?88eb","webpack:///./src/components/SceneList.vue?eb55","webpack:///./src/components/SearchHeader.vue?ab58","webpack:///./src/components/VideoPlayer.vue?ea73","webpack:///./src/views/VideoPage.vue?3d99","webpack:///./src/components/ListHeader.vue?f0fb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","ref","entries","staticClass","on","onRandomButtonClick","_v","onCreateThumbnailsButtonClick","onRecursiveButtonClick","parent","path","linkToParentList","_e","_s","basename","onSearchInputChange","$event","stopPropagation","methods","trim","replace","split","pop","elements","join","linkToList","linkToVideo","mixins","VideoPath","computed","$route","params","pathMatch","mounted","addEventListener","onKeydown","beforeDestroy","removeEventListener","$router","query","event","metaKey","ctrlKey","_l","entry","index","class","type","linkToEntry","highlightImages","thumbnailsDir","props","Array","results","$store","state","thumbnailerQueue","totalCount","completeCount","failedCount","title","domProps","progress","offset","loading","watch","init","updateEntries","created","onScroll","bottom","innerHeight","components","ListHeader","VideoList","ThumbnailerProgress","onMouseMove","onWheel","onDownloadButtonClick","playerSizeClass","onVideoPlayerContainerClick","onSceneListScroll","onVideoMouseMove","src","autoPlay","onVideoCanPlay","onVideoLoadStart","onVideoPlaying","onVideoPause","onVideoEnded","onVideoTouchStart","onVideoTouchMove","onVideoTouchEnd","video","duration","currentTimeSec","onSeekBarInput","onSeekBarChange","loaded","onPlayButtonClick","paused","volume","onVolumeInput","formatTime","fullscreen","onPlayerModeButtonClick","onFullscreenButtonClick","hour","VideoUtil","loaded_","paused_","currentTime","controlVisibility","Math","floor","$refs","vol","$cookies","set","startTime","hideControlLater","clearInterval","intervalIdOfUpdateTime","pause","removeAttribute","load","play","togglePlay","updateTime","lastTime","Date","now","currentTarget","showControl","showAndHideControlLater","timeoutIdOfHideControl","clearTimeout","setTimeout","touchStartX","targetTouches","clientX","touchStartTime","abs","distance","inactiveRange","seeking","dispatch","blur","toggleFullscreen","document","webkitFullscreenElement","webkitExitFullscreen","querySelector","getters","time","style","thumbnailStyle","onThumbnailClick","isNaN","console","error","dataTime","PlayerMode","SMALL","MIDDLE","LARGE","navigationVisibility","playerMode","sceneListContainer","focus","hideNavigationLater","link","href","click","showNavigation","timeoutIdOfHideNavigation","lastWheelTime","wheelDistance","deltaY","log","lastScrollTime","undefined","scrollStartPosition","scrollTop","scrollDistance","VideoPlayer","SceneList","SearchHeader","Vue","use","VueRouter","routes","VideoDirPage","alias","VideoPage","RandomPage","SearchPage","router","Vuex","store","Store","spriteImagePath","sceneInterval","socket","isConnected","reconnectError","timestamps","times","mutations","setVideoStartTime","setVideoInfo","info","interval","setPlayerMode","SOCKET_THUMBNAILER_PROGRESS","SOCKET_THUMBNAILER_COMPLETE","SOCKET_ONOPEN","SOCKET_ONCLOSE","warn","SOCKET_RECONNECT","SOCKET_RECONNECT_ERROR","SOCKET_ONERROR","actions","initVideo","commit","fetch","response","json","startVideoAt","switchToSmallMode","switchToMiddleMode","switchToLargeMode","togglePlayerMode","VueNativeSock","location","host","format","reconnection","reconnectionDelay","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.498a9c63.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=style&index=0&id=251dbb12&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=style&index=0&id=251dbb12&lang=stylus&scoped=true&\"","var render, staticRenderFns\nimport script from \"./VideoPath.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoPath.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5febcb20&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('list-header'),_c('video-list',{ref:\"videoList\",attrs:{\"entries\":_vm.entries}}),_c('thumbnailer-progress')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('div',{staticClass:\"top\"},[_c('button',{on:{\"click\":_vm.onRandomButtonClick}},[_vm._v(\"Random\")]),_c('button',{on:{\"click\":_vm.onCreateThumbnailsButtonClick}},[_vm._v(\"Create Thumbnails\")]),_c('button',{on:{\"click\":_vm.onRecursiveButtonClick}},[_vm._v(\"Recursive\")])]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"left\"},[(_vm.parent(_vm.path) != null)?_c('router-link',{staticClass:\"back-button\",attrs:{\"to\":_vm.linkToParentList(_vm.path)}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"arrow_back\")])]):_vm._e(),(_vm.path)?_c('h1',[_vm._v(_vm._s(_vm.basename(_vm.path)))]):_c('h1',[_vm._v(\"VIDEO BROWSER\")])],1),_c('div',{staticClass:\"right\"},[_c('input',{staticClass:\"search\",attrs:{\"placeholder\":\"Search\"},on:{\"change\":_vm.onSearchInputChange,\"keydown\":function($event){$event.stopPropagation();}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  methods: {\n    basename (path) {\n      path = path.trim().replace(/\\/$/, '')\n      return path.split('/').pop()\n    },\n    parent (path) {\n      path = path.trim().replace(/\\/$/, '')\n      if (path.length === 0) {\n        return null\n      }\n      const elements = path.split('/')\n      elements.pop()\n      return elements.join('/')\n    },\n    linkToParentList (path) {\n      return this.linkToList(this.parent(path))\n    },\n    linkToList (path) {\n      return `/list/${path}`\n    },\n    linkToVideo (path) {\n      return `/video/${path}`\n    },\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPath.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPath.vue?vue&type=script&lang=js&\"","<template lang=\"pug\">\nnav\n  .top\n    button(@click=\"onRandomButtonClick\")\n      | Random\n    button(@click=\"onCreateThumbnailsButtonClick\")\n      | Create Thumbnails\n    button(@click=\"onRecursiveButtonClick\")\n      | Recursive\n  .bottom\n    .left\n      router-link.back-button(\n        :to=\"linkToParentList(path)\"\n        v-if=\"parent(path) != null\"\n      )\n        i.material-icons arrow_back\n      h1(v-if=\"path\") {{ basename(path) }}\n      h1(v-else) VIDEO BROWSER\n    .right\n      input.search(\n        @change=\"onSearchInputChange\"\n        @keydown.stop\n        placeholder=\"Search\"\n      )\n</template>\n\n<script>\nimport VideoPath from '../mixins/VideoPath'\n\nexport default {\n  mixins: [VideoPath],\n  computed: {\n    path() {\n      return this.$route.params.pathMatch || ''\n    }\n  },\n  mounted() {\n    window.addEventListener('keydown', this.onKeydown)\n  },\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeydown)\n  },\n  methods: {\n    //\n    // Button event\n    //\n    async onCreateThumbnailsButtonClick() {\n      const response = await fetch(\n        `/api/dir/thumbnails/create/${this.path}`,\n        { method: 'POST' })\n      const json = await response.json()\n      console.log('Job count:', json.jobCount)\n    },\n    async onRecursiveButtonClick() {\n      const response = await fetch(\n        `/api/dir/thumbnails/create-recursive/${this.path}`,\n        { method: 'POST' })\n      const json = await response.json()\n      console.log('Job count:', json.jobCount)\n    },\n    onRandomButtonClick() {\n      this.$router.push('/random')\n    },\n    //\n    // Search event\n    //\n    onSearchInputChange(event) {\n      const query = event.currentTarget.value\n      if (query.length === 0) return\n      this.$router.push({\n        name: 'search',\n        params: { query: query }\n      })\n    },\n    //\n    // Keyboard event\n    //\n    onKeydown(event) {\n      if (event.metaKey || event.ctrlKey) return\n      switch(event.key) {\n      case 'r':\n        this.$router.push('/random')\n        break\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import \"../styles/video-list-header.styl\"\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListHeader.vue?vue&type=template&id=09eab780&scoped=true&lang=pug&\"\nimport script from \"./ListHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./ListHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListHeader.vue?vue&type=style&index=0&id=09eab780&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09eab780\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',_vm._l((_vm.entries),function(entry,index){return _c('li',{key:index},[_c('router-link',{class:entry.type,attrs:{\"to\":_vm.linkToEntry(entry)}},[_c('div',{staticClass:\"scenes\"},[(entry.thumbnailsDir)?_c('div',_vm._l((_vm.highlightImages(entry.thumbnailsDir)),function(path,index){return _c('img',{attrs:{\"src\":path}})}),0):_vm._e()]),_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"left\"},[_vm._v(_vm._s(_vm.basename(entry.path)))]),(entry.type === 'directory')?_c('i',{staticClass:\"material-icons\"},[_vm._v(\"chevron_right\")]):_vm._e()])])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nul\n  li(v-for=\"(entry, index) in entries\", :key=\"index\")\n    router-link(:to=\"linkToEntry(entry)\" :class=\"entry.type\")\n      .scenes\n        div(v-if=\"entry.thumbnailsDir\")\n          img(\n            v-for=\"(path, index) in highlightImages(entry.thumbnailsDir)\"\n            :src=\"path\"\n          )\n      .title\n        .left {{ basename(entry.path) }}\n        i.material-icons(v-if=\"entry.type === 'directory'\") chevron_right\n</template>\n\n<script>\nimport VideoPath from '../mixins/VideoPath'\n\nexport default {\n  mixins: [VideoPath],\n  props: {\n    entries: Array\n  },\n  methods: {\n    linkToEntry(entry) {\n      switch(entry.type) {\n      case 'directory':\n        return this.linkToList(entry.path)\n      case 'video':\n        return this.linkToVideo(entry.path)\n      }\n      return ''\n    },\n    highlightImages(thumbnailsDir) {\n      const results = []\n      for (let i = 0; i < 5; i++) {\n        results.push(`${thumbnailsDir}/${i}.jpg`)\n      }\n      return results\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\nitem-shadow = 0 0 6px rgba(0, 0, 0, .1), 0 0 1px rgba(0, 0, 0, .2)\n\nul\n  display flex\n  flex-wrap wrap\n  margin 0\n  padding 16px\n  list-style-type none\n\n  li\n    flex-basis 160px * 2\n    margin 16px\n\n    a\n      display block\n      color rgba(0, 0, 0, 0.9)\n\n      &:hover\n        color #0a95ff\n\n      .scenes\n        min-height 90px * 4\n        box-shadow item-shadow\n\n        img\n          vertical-align top\n          width 160px\n          height 90px\n\n          &:first-of-type\n            width 160px * 2\n            height 90px * 2\n\n      .title\n        padding-top 14px\n        font-size 18px\n        letter-spacing 0.02em\n        line-height 1.45\n        max-height 100%\n\n    .directory\n      box-shadow item-shadow\n      color rgba(255, 255, 255, 0.9)\n\n      &:hover\n        color #34c6ff\n\n      .scenes\n        box-shadow none\n\n      .title\n        background-color #444\n        padding 14px 8px 14px 16px\n        display flex\n        align-items center\n\n        .left\n          flex 1\n        \n        i\n          font-size 24px\n          margin-left 8px\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoList.vue?vue&type=template&id=251dbb12&scoped=true&lang=pug&\"\nimport script from \"./VideoList.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoList.vue?vue&type=style&index=0&id=251dbb12&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"251dbb12\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$store.state.thumbnailerQueue.totalCount > 0)?_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"message\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"Creating thumbnails\")]),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.$store.state.thumbnailerQueue.completeCount + 1)+\" / \"+_vm._s(_vm.$store.state.thumbnailerQueue.totalCount))])]),(_vm.$store.state.thumbnailerQueue.failedCount > 0)?_c('div',{staticClass:\"message failed\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"Failed\")]),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(_vm.$store.state.thumbnailerQueue.failedCount))])]):_vm._e(),_c('div',{staticClass:\"video-title\"},[_vm._v(_vm._s(_vm.$store.state.thumbnailerQueue.title))]),_c('progress',{attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.$store.state.thumbnailerQueue.progress}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.container(v-if=\"$store.state.thumbnailerQueue.totalCount > 0\")\n  .message\n    .left Creating thumbnails\n    .right\n      | {{ $store.state.thumbnailerQueue.completeCount + 1 }}\n      | /\n      | {{ $store.state.thumbnailerQueue.totalCount }}\n  .message.failed(v-if=\"$store.state.thumbnailerQueue.failedCount > 0\")\n    .left Failed\n    .right {{ $store.state.thumbnailerQueue.failedCount }}\n  .video-title {{ $store.state.thumbnailerQueue.title }}\n  progress(max=\"100\" :value=\"$store.state.thumbnailerQueue.progress\")\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default {\n  data() {\n    return {\n    }\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.container\n  position fixed\n  z-index 1\n  bottom 8px\n  left 8px\n  width 200px\n  padding 10px 16px\n  background-color #3C3C3C\n  border-radius 3px\n  font-size 12px\n\n  .message\n    display flex\n    margin-bottom 4px\n    color rgba(255, 255, 255, 0.7)\n\n    .left\n      margin-right auto\n\n    .right\n      font-size 11px\n\n  .failed\n    color #D23838\n\n  .video-title\n    margin-bottom 8px\n    font-size 11px\n    color rgba(255, 255, 255, 0.35)\n    white-space nowrap\n    overflow hidden\n    text-overflow ellipsis\n\n  progress\n    display block\n    width 100%\n    -webkit-appearance none\n    appearance none\n    height 1px\n\n    &[value]::-webkit-progress-bar\n      background-color: rgba(255, 255, 255, 0.1)\n\n    &[value]::-webkit-progress-value\n      background-color: rgba(255, 255, 255, 0.4)\n</style>","var render, staticRenderFns\nimport script from \"./VideoUtil.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoUtil.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbnailerProgress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbnailerProgress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThumbnailerProgress.vue?vue&type=template&id=34d40f04&scoped=true&lang=pug&\"\nimport script from \"./ThumbnailerProgress.vue?vue&type=script&lang=js&\"\nexport * from \"./ThumbnailerProgress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ThumbnailerProgress.vue?vue&type=style&index=0&id=34d40f04&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34d40f04\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\ndiv\n  list-header\n  video-list(:entries=\"entries\" ref=\"videoList\")\n  thumbnailer-progress\n</template>\n\n<script>\nimport ListHeader from '../components/ListHeader'\nimport VideoList from '../components/VideoList'\nimport ThumbnailerProgress from '../components/ThumbnailerProgress'\n\nexport default {\n  data () {\n    return {\n      entries: [],\n      totalCount: 0,\n      offset: 0,\n      loading: false,\n    }\n  },\n  computed: {\n    path() {\n      return this.$route.params.pathMatch || ''\n    }\n  },\n  watch: {\n    '$route': function() {\n      this.init()\n      this.updateEntries()\n    }\n  },\n  created: async function() {\n    this.init()\n    this.updateEntries()\n  },\n  mounted() {\n    window.addEventListener('scroll', this.onScroll)\n  },\n  beforeDestroy() {\n    window.removeEventListener('scroll', this.onScroll)\n  },\n  methods: {\n    init() {\n      this.entries = []\n      this.totalCount = 0\n      this.offset = 0\n      this.loading = false\n    },\n    async updateEntries() {\n      if (this.loading) return\n      if (this.totalCount > 0\n        && this.offset >= this.totalCount) return\n      this.loading = true\n      const limit = 12\n      const response = await fetch(\n        `/api/dir/list/${this.path}?limit=${limit}&offset=${this.offset}`\n      )\n      const { entries, totalCount } = await response.json()\n      this.entries = this.entries.concat(entries)\n      this.totalCount = totalCount\n      this.offset += limit\n      setTimeout(() => {\n        this.loading = false\n        this.onScroll()\n      }, 500)\n    },\n    onScroll() {\n      if (this.loading) return\n      const videoListElement = this.$refs.videoList.$el\n      const top = videoListElement.getBoundingClientRect().top\n      const bottom = top + videoListElement.clientHeight\n      if (bottom <= window.innerHeight + 200) {\n        this.updateEntries()\n      }\n    },\n  },\n  components: {\n    ListHeader,\n    VideoList,\n    ThumbnailerProgress\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDirPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoDirPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoDirPage.vue?vue&type=template&id=14be0e78&scoped=true&lang=pug&\"\nimport script from \"./VideoDirPage.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoDirPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14be0e78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mousemove\":_vm.onMouseMove,\"wheel\":_vm.onWheel}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.navigationVisibility)?_c('nav',[_c('div',{staticClass:\"left\"},[_c('router-link',{staticClass:\"back-button\",attrs:{\"to\":_vm.linkToParentList(_vm.path)}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"arrow_back\")])]),_c('h1',[_vm._v(_vm._s(_vm.basename(_vm.path)))])],1),_c('div',{staticClass:\"right\"},[_c('button',{on:{\"click\":_vm.onDownloadButtonClick}},[_vm._v(\"Download\")]),_c('button',{on:{\"click\":_vm.onRandomButtonClick}},[_vm._v(\"Random\")]),_c('button',{on:{\"click\":_vm.onCreateThumbnailsButtonClick}},[_vm._v(\"Create Thumbnails\")])])]):_vm._e()]),_c('div',{staticClass:\"video-player-and-scene-list-container\"},[_c('div',{staticClass:\"video-player-container\",class:[_vm.playerSizeClass],on:{\"click\":_vm.onVideoPlayerContainerClick}},[_c('video-player')],1),_c('div',{ref:\"sceneListContainer\",staticClass:\"scene-list-container\",class:[_vm.playerSizeClass],on:{\"scroll\":_vm.onSceneListScroll}},[_c('scene-list')],1)]),_c('thumbnailer-progress')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-container\",on:{\"mousemove\":_vm.onVideoMouseMove}},[_c('video',{ref:\"video\",attrs:{\"type\":\"video/mp4\",\"src\":_vm.src,\"autoplay\":_vm.autoPlay},on:{\"canplay\":_vm.onVideoCanPlay,\"loadstart\":_vm.onVideoLoadStart,\"playing\":_vm.onVideoPlaying,\"pause\":_vm.onVideoPause,\"ended\":_vm.onVideoEnded,\"touchstart\":_vm.onVideoTouchStart,\"touchmove\":_vm.onVideoTouchMove,\"touchend\":_vm.onVideoTouchEnd}}),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.controlVisibility)?_c('div',{staticClass:\"controls\"},[_c('input',{staticClass:\"seek-bar\",attrs:{\"type\":\"range\",\"max\":_vm.$store.state.video.duration},domProps:{\"value\":_vm.currentTimeSec},on:{\"input\":_vm.onSeekBarInput,\"change\":_vm.onSeekBarChange,\"click\":function($event){$event.stopPropagation();}}}),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"left\"},[_c('button',{staticClass:\"play-button\",attrs:{\"disabled\":!_vm.loaded},on:{\"click\":function($event){$event.stopPropagation();return _vm.onPlayButtonClick($event)}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(_vm._s(_vm.paused ? 'play_arrow' : 'pause'))])]),_c('input',{staticClass:\"volume\",attrs:{\"type\":\"range\",\"max\":\"1\",\"step\":\"0.01\"},domProps:{\"value\":_vm.volume},on:{\"input\":_vm.onVolumeInput,\"click\":function($event){$event.stopPropagation();}}}),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.formatTime(_vm.currentTimeSec))+\" / \"+_vm._s(_vm.formatTime(_vm.$store.state.video.duration)))])]),_c('div',{staticClass:\"right\"},[(!_vm.fullscreen)?_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onPlayerModeButtonClick($event)}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"view_comfy\")])]):_vm._e(),_c('button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onFullscreenButtonClick($event)}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(_vm._s(_vm.fullscreen ? 'fullscreen_exit' : 'fullscreen'))])])])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  methods: {\n    formatTime(timeSec) {\n      const hour = Math.floor(timeSec / 60 / 60)\n      const min = (Math.floor(timeSec / 60) % 60)\n      const sec = (timeSec % 60)\n      const secStr = sec.toString().padStart(2, '0')\n      if (hour > 0) {\n        const minStr = min.toString().padStart(2, '0')\n        const hourStr = (hour >= 10)\n          ? hour.toString().padStart(2, '0')\n          : hour.toString()\n        return `${hourStr}:${minStr}:${secStr}`\n      } else {\n        const minStr = (min >= 10)\n          ? min.toString().padStart(2, '0')\n          : min.toString()\n        return `${minStr}:${secStr}`\n      }\n    },\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoUtil.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoUtil.vue?vue&type=script&lang=js&\"","<template lang=\"pug\">\n.video-container(@mousemove=\"onVideoMouseMove\")\n  video(\n    ref=\"video\"\n    type=\"video/mp4\"\n    :src=\"src\"\n    :autoplay=\"autoPlay\"\n    @canplay=\"onVideoCanPlay\"\n    @loadstart=\"onVideoLoadStart\"\n    @playing=\"onVideoPlaying\"\n    @pause=\"onVideoPause\"\n    @ended=\"onVideoEnded\"\n    @touchstart=\"onVideoTouchStart\"\n    @touchmove=\"onVideoTouchMove\"\n    @touchend=\"onVideoTouchEnd\"\n  )\n  transition(name=\"fade\")\n    .controls(v-if=\"controlVisibility\")\n      input.seek-bar(\n        type=\"range\"\n        :value=\"currentTimeSec\"\n        :max=\"$store.state.video.duration\"\n        @input=\"onSeekBarInput\"\n        @change=\"onSeekBarChange\"\n        @click.stop\n      )\n      .bottom\n        .left\n          button.play-button(\n            :disabled=\"!loaded\"\n            @click.stop=\"onPlayButtonClick\"\n          )\n            i.material-icons {{ paused ? 'play_arrow' : 'pause' }}\n          input.volume(\n            type=\"range\"\n            max=\"1\"\n            step=\"0.01\"\n            :value=\"volume\"\n            @input=\"onVolumeInput\"\n            @click.stop\n          )\n          span.time\n            | {{ formatTime(currentTimeSec) }}\n            | /\n            | {{ formatTime($store.state.video.duration) }}\n        .right\n          button(@click.stop=\"onPlayerModeButtonClick\" v-if=\"!fullscreen\")\n            i.material-icons view_comfy\n          button(@click.stop=\"onFullscreenButtonClick\")\n            i.material-icons\n              | {{ fullscreen ? 'fullscreen_exit' : 'fullscreen' }}\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport VueCookies from 'vue-cookies'\nimport VideoUtil from '../mixins/VideoUtil'\n\nVue.use(Vuex)\nVue.use(VueCookies)\n\nexport default {\n  mixins: [VideoUtil],\n  data() {\n    return {\n      loaded_: false,\n      paused_: true,\n      autoPlay: true,\n      currentTime: 0,\n      controlVisibility: true,\n      fullscreen: false,\n      volume: 0.5,\n    }\n  },\n  computed: {\n    loaded: function() {\n      return this.loaded_\n    },\n    paused() {\n      return this.paused_\n    },\n    src() {\n      const path = this.$route.params.pathMatch\n      const sec = Math.floor(this.$store.state.video.startTime / 1000)\n      return `/api/video/stream/${path}?time=${sec}`\n    },\n    currentTimeSec() {\n      return Math.floor(this.currentTime / 1000)\n    },\n  },\n  watch: {\n    volume() {\n      if (this.$refs.video) {\n        const vol = this.volume * this.volume\n        this.$refs.video.volume = vol\n      }\n      this.$cookies.set('volume', this.volume, '1Y')\n    },\n    '$store.state.video.startTime': function() {\n      this.currentTime = this.$store.state.video.startTime\n    }\n  },\n  created: async function() {\n    this.intervalIdOfUpdateTime = setInterval(() => {\n      this.updateTime()\n    }, 100)\n    const vol = this.$cookies.get('volume')\n    if (vol != null) {\n      this.volume = vol\n    }\n  },\n  mounted() {\n    this.hideControlLater()\n    window.addEventListener('keydown', this.onKeydown)\n  },\n  beforeDestroy() {\n    window.removeEventListener('keydown', this.onKeydown)\n    clearInterval(this.intervalIdOfUpdateTime)\n    this.pause()\n    if (this.$refs.video) {\n      this.$refs.video.removeAttribute('src')\n      this.$refs.video.load()\n    }\n  },\n  methods: {\n    play() {\n      if (this.$refs.video) {\n        this.$refs.video.play()\n      }\n    },\n    pause() {\n      if (this.$refs.video) {\n        this.$refs.video.pause()\n      }\n    },\n    togglePlay() {\n      if (this.paused) {\n        this.play()\n      } else {\n        this.pause()\n      }\n    },\n    updateTime() {\n      if (this.$refs.video && !this.paused && this.lastTime) {\n        this.currentTime += Date.now() - this.lastTime\n      }\n      this.lastTime = Date.now()\n    },\n    //\n    // Video event\n    //\n    onVideoLoadStart() {\n      this.loaded_ = false\n    },\n    onVideoCanPlay() {\n      this.loaded_ = true\n    },\n    onVideoPause(event) {\n      this.paused_ = event.currentTarget.paused\n      this.showControl()\n    },\n    onVideoPlaying(event) {\n      this.paused_ = event.currentTarget.paused\n      this.hideControlLater()\n    },\n    onVideoEnded () {\n      this.pause()\n    },\n    onVideoMouseMove () {\n      this.showAndHideControlLater()\n    },\n\n    //\n    // Show/Hide control\n    //\n    showControl() {\n      this.controlVisibility = true\n      if (this.timeoutIdOfHideControl) {\n        clearTimeout(this.timeoutIdOfHideControl)\n      }\n    },\n    hideControlLater() {\n      this.timeoutIdOfHideControl = setTimeout(() => {\n        this.controlVisibility = false\n      }, 4 * 1000)\n    },\n    showAndHideControlLater() {\n      this.showControl()\n      if (!this.paused) {\n        this.hideControlLater()\n      }\n    },\n\n    //\n    // Seek by Touch Move\n    //\n    onVideoTouchStart(event) {\n      this.touchStartX = event.targetTouches[0].clientX\n      this.touchStartTime = this.currentTime\n    },\n    onVideoTouchMove(event) {\n      const inactiveRange = 20\n      const distance = event.targetTouches[0].clientX - this.touchStartX\n      if (Math.abs(distance) < inactiveRange) return\n      // Start seeking\n      if (!this.seeking) {\n        this.seeking = true\n        if (this.loaded) {\n          this.autoPlay = !this.paused\n        }\n        this.pause()\n      }\n      const offsetSec = 0.2 * (distance - inactiveRange * (distance / Math.abs(distance)))\n      const time = this.touchStartTime + offsetSec * 1000\n      this.currentTime = (time >= 0) ? time : 0\n    },\n    onVideoTouchEnd() {\n      if (!this.seeking) return\n      this.$store.dispatch('startVideoAt', this.currentTime)\n      this.seeking = false\n    },\n    //\n    // Seek bar\n    //\n    onSeekBarInput (event) {\n      if (!this.seeking) {\n        this.seeking = true\n        if (this.loaded) {\n          this.autoPlay = !this.paused\n        }\n        this.pause()\n      }\n      this.currentTime = event.currentTarget.value * 1000\n    },\n    onSeekBarChange (event) {\n      this.currentTime = event.currentTarget.value * 1000\n      this.$store.dispatch('startVideoAt', this.currentTime)\n      this.seeking = false\n    },\n    //\n    // Play button\n    //\n    onPlayButtonClick (event) {\n      this.togglePlay()\n      event.currentTarget.blur()\n    },\n    //\n    // Volume\n    //\n    onVolumeInput (event) {\n      this.volume = event.currentTarget.value\n    },\n    //\n    // Fullscreen\n    //\n    onFullscreenButtonClick(event) {\n      this.toggleFullscreen()\n      event.currentTarget.blur()\n    },\n    toggleFullscreen () {\n      if (document.webkitFullscreenElement) {\n        document.webkitExitFullscreen()\n        this.fullscreen = false\n      } else {\n        document.querySelector('.video-container')\n          .webkitRequestFullscreen()\n        this.fullscreen = true\n      }\n    },\n    //\n    // PlayerMode\n    //\n    onPlayerModeButtonClick(event) {\n      this.$store.dispatch('togglePlayerMode')\n      event.currentTarget.blur()\n    },\n    //\n    // Keyboard event\n    //\n    onKeydown(event) {\n      if (event.metaKey || event.ctrlKey) return\n      switch(event.key) {\n      case ' ':\n        if (!event.repeat) {\n          this.togglePlay()\n        }\n        break\n      case 'f':\n        if (!event.repeat) {\n          this.toggleFullscreen()\n        }\n        break\n      case 'v':\n        if (!event.repeat) {\n          this.$store.dispatch('togglePlayerMode')\n        }\n        break\n      case 'ArrowRight':\n        this.$store.dispatch('startVideoAt', this.currentTime + 10 * 1000)\n        this.showAndHideControlLater()\n        break\n      case 'ArrowLeft':\n        this.$store.dispatch('startVideoAt', this.currentTime - 10 * 1000)\n        this.showAndHideControlLater()\n        break\n      case 'ArrowUp':\n        this.$store.dispatch('startVideoAt', this.currentTime + 60 * 1000)\n        this.showAndHideControlLater()\n        break\n      case 'ArrowDown':\n        this.$store.dispatch('startVideoAt', this.currentTime - 60 * 1000)\n        this.showAndHideControlLater()\n        break\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.fade-enter-active, .fade-leave-active\n  transition opacity .5s\n\n.fade-enter, .fade-leave-to\n  opacity 0\n\n.video-container\n  position relative\n  width 100%\n  height 100%\n\n  video\n    display block\n    width 100%\n    height 100%\n    background-color black\n\n  .controls\n    position absolute\n    bottom 0px\n    width 100%\n    padding 8px\n    box-sizing border-box\n\n    .bottom\n      display flex\n\n      .left\n        margin-right auto\n\n    input[type=\"range\"]\n      -webkit-appearance none\n      height 1px\n      box-sizing border-box\n      border-radius 3px\n      background-color rgba(255, 255, 255, 0.6)\n      outline 0\n      cursor pointer\n      filter drop-shadow(0 0px 1px rgba(0, 0, 0, .9))\n\n      &::-webkit-slider-thumb\n        -webkit-appearance none\n        position relative\n        display block\n        width 11px\n        height 11px\n        border-radius 50%\n        background-color white\n        cursor pointer\n\n      &:active::-webkit-slider-thumb\n        box-shadow: 0 0 0 4px rgba(0, 0, 0, .6)\n\n      &.seek-bar\n        display block\n        width 100%\n        margin-bottom 12px\n\n      &.volume\n        display inline-block\n        width 80px\n        margin 0px 16px 0 8px\n        vertical-align middle\n\n    button\n      display inline-block\n      width 64px\n      height 40px\n      background-color rgba(0, 0, 0, 0)\n      filter drop-shadow(0 0px 1px rgba(0, 0, 0, .9))\n      border none\n      outline 0\n      color white\n      vertical-align middle\n      cursor pointer\n\n      &:hover\n        background-color rgba(0, 0, 0, .6)\n        color #34c6ff\n        transition: .3s\n\n      &[disabled]\n        opacity 0.5\n\n      &.play-button\n        width 80px\n\n    .time\n      font-size 12px\n      font-weight 100\n      color rgba(255, 255, 255, 0.9)\n      filter drop-shadow(0 0px 1px rgba(0, 0, 0, .9))\n      cursor default\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoPlayer.vue?vue&type=template&id=1bc56d96&scoped=true&lang=pug&\"\nimport script from \"./VideoPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoPlayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoPlayer.vue?vue&type=style&index=0&id=1bc56d96&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bc56d96\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"thumbnails\"},_vm._l((_vm.$store.getters.timestamps),function(time,index){return _c('li',{key:index,staticClass:\"thumbnail\",style:(_vm.thumbnailStyle(index)),attrs:{\"data-time\":time},on:{\"click\":_vm.onThumbnailClick}},[_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.formatTime(time)))])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nul.thumbnails\n  li.thumbnail(\n    v-for=\"(time, index) in $store.getters.timestamps\"\n    :key=\"index\"\n    :data-time=\"time\"\n    :style=\"thumbnailStyle(index)\"\n    @click=\"onThumbnailClick\"\n  )\n    .time {{ formatTime(time) }}\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport VideoUtil from '../mixins/VideoUtil'\n\nVue.use(Vuex)\n\nexport default {\n  mixins: [VideoUtil],\n  methods: {\n    thumbnailStyle: function(index) {\n      const x = 160 * (index % 10)\n      const y = 90 * Math.floor(index / 10)\n      return `\n        background-image: url(${ this.$store.state.video.spriteImagePath });\n        background-position: -${x}px -${y}px;`\n    },\n    onThumbnailClick: function(event) {\n      const dataTime = event.currentTarget.getAttribute('data-time')\n      const time = parseInt(dataTime) * 1000\n      if (isNaN(time)) {\n        console.error('time is NaN', dataTime)\n        return\n      }\n      this.$store.dispatch('startVideoAt', time)\n      this.$store.dispatch('switchToMiddleMode')\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\nul\n  list-style-type none\n  padding 0\n  margin 16px\n\n  li\n    display inline-block\n    width 160px\n    height 90px\n    margin-bottom 8px\n    vertical-align top\n    overflow hidden\n    cursor pointer\n    font-size 10px\n\n    .time\n      text-align right\n      margin-top 4px\n      margin-right 4px\n      color rgba(255, 255, 255, 0.9)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SceneList.vue?vue&type=template&id=595a988e&scoped=true&lang=pug&\"\nimport script from \"./SceneList.vue?vue&type=script&lang=js&\"\nexport * from \"./SceneList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SceneList.vue?vue&type=style&index=0&id=595a988e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"595a988e\",\n  null\n  \n)\n\nexport default component.exports","export const PlayerMode = {\n  SMALL: 0,\n  MIDDLE: 1,\n  LARGE: 2,\n}\n","<template lang=\"pug\">\ndiv(@mousemove=\"onMouseMove\" @wheel=\"onWheel\")\n  transition(name=\"fade\")\n    nav(v-if=\"navigationVisibility\")\n      .left\n        router-link.back-button(:to=\"linkToParentList(path)\")\n          i.material-icons arrow_back\n        h1 {{ basename(path) }}\n      .right\n        button(@click=\"onDownloadButtonClick\")\n          | Download\n        button(@click=\"onRandomButtonClick\")\n          | Random\n        button(@click=\"onCreateThumbnailsButtonClick\")\n          | Create Thumbnails\n  .video-player-and-scene-list-container\n    .video-player-container(\n      :class=\"[playerSizeClass]\"\n      @click=\"onVideoPlayerContainerClick\"\n    )\n      video-player\n    .scene-list-container(\n      ref=\"sceneListContainer\"\n      :class=\"[playerSizeClass]\"\n      @scroll=\"onSceneListScroll\"\n    )\n      scene-list\n  thumbnailer-progress\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport VideoPlayer from '../components/VideoPlayer'\nimport SceneList from '../components/SceneList'\nimport ThumbnailerProgress from '../components/ThumbnailerProgress'\nimport VideoPath from '../mixins/VideoPath'\nimport { PlayerMode } from '../enums/enum.js'\n\nVue.use(Vuex)\n\nexport default {\n  mixins: [VideoPath],\n  data() {\n    return {\n      navigationVisibility: true\n    }\n  },\n  computed: {\n    path() {\n      return this.$route.params.pathMatch || ''\n    },\n    playerSizeClass() {\n      switch(this.$store.state.video.playerMode) {\n      case PlayerMode.SMALL:\n        return 'player-small'\n      case PlayerMode.MIDDLE:\n        return 'player-middle'\n      case PlayerMode.LARGE:\n        return 'player-large'\n      }\n      return ''\n    }\n  },\n  watch: {\n    '$store.state.video.playerMode': function() {\n      if (this.$store.state.video.playerMode !== PlayerMode.LARGE) {\n        this.$refs.sceneListContainer.focus()\n      }\n    },\n  },\n  created() {\n    this.$store.dispatch('initVideo', this.path)\n  },\n  mounted() {\n    this.hideNavigationLater()\n    window.addEventListener('keydown', this.onKeydown)\n  },\n  methods: {\n    async onCreateThumbnailsButtonClick () {\n      const response = await fetch(\n        `/api/video/thumbnails/create/${this.path}`,\n        { method: 'POST' })\n      const json = await response.json()\n      console.log(json)\n    },\n    //\n    // Button event\n    //\n    onRandomButtonClick() {\n      this.$router.push('/random')\n    },\n    onVideoPlayerContainerClick() {\n      if (this.$store.state.video.playerMode === PlayerMode.SMALL) {\n        this.$store.dispatch('switchToMiddleMode')\n      }\n    },\n    onDownloadButtonClick() {\n      const link = document.createElement('a')\n      link.href = `/api/video/download/${this.path}`\n      link.click()\n    },\n    //\n    // Mouse move event\n    //\n    onMouseMove() {\n      this.showNavigation()\n      this.hideNavigationLater()\n    },\n    showNavigation() {\n      if (this.timeoutIdOfHideNavigation) {\n        clearTimeout(this.timeoutIdOfHideNavigation)\n      }\n      this.navigationVisibility = true\n    },\n    hideNavigationLater() {\n      this.timeoutIdOfHideNavigation = setTimeout(() => {\n        this.navigationVisibility = false\n      }, 4 * 1000)\n    },\n    //\n    // Wheel event\n    //\n    onWheel(event) {\n      if (this.$store.state.video.playerMode !== PlayerMode.LARGE) return\n      if (!this.lastWheelTime) {\n        this.lastWheelTime = Date.now()\n      }\n      if (!this.wheelDistance) {\n        this.wheelDistance = 0\n      }\n      if (Date.now() - this.lastWheelTime > 500) {\n        this.wheelDistance = 0\n      }\n      this.wheelDistance += event.deltaY\n      console.log(this.wheelDistance)\n      if (Math.abs(this.wheelDistance) > 300) {\n        this.$store.dispatch('switchToMiddleMode')\n        this.wheelDistance = 0\n      }\n      this.lastWheelTime = Date.now()\n    },\n    //\n    // Scroll event\n    //\n    onSceneListScroll(event) {\n      if (this.$store.state.video.playerMode !== PlayerMode.MIDDLE) return\n      if (!this.lastScrollTime) {\n        this.lastScrollTime = Date.now()\n      }\n      if (this.scrollStartPosition === undefined) {\n        this.scrollStartPosition = 0\n      }\n      if (Date.now() - this.lastScrollTime > 500) {\n        this.scrollStartPosition = event.currentTarget.scrollTop\n      }\n      this.scrollDistance =\n        event.currentTarget.scrollTop - this.scrollStartPosition\n      console.log(this.scrollDistance)\n      if (Math.abs(this.scrollDistance) > 500) {\n        console.log('switchToSmallMode')\n        this.$store.dispatch('switchToSmallMode')\n        this.scrollStartPosition = event.currentTarget.scrollTop\n      }\n      this.lastScrollTime = Date.now()\n    },\n    //\n    // Keyboard event\n    //\n    onKeydown(event) {\n      if (event.metaKey || event.ctrlKey) return\n      switch(event.key) {\n      case 'r':\n        this.$router.push('/random')\n        break\n      }\n    },\n  },\n  components: {\n    VideoPlayer,\n    SceneList,\n    ThumbnailerProgress,\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.fade-enter-active, .fade-leave-active\n  transition opacity .5s\n\n.fade-enter, .fade-leave-to\n  opacity 0\n\nnav\n  position fixed\n  z-index 3\n  display flex\n  width 100%\n  box-sizing border-box\n  padding 8px\n  filter drop-shadow(0 0 1px rgba(0, 0, 0, .9))\n\n  .left\n    flex 1 0\n    white-space nowrap\n    overflow hidden\n    text-overflow ellipsis\n    height = 40px\n\n    .back-button\n      display inline-block\n      width 48px\n      height height\n      line-height height\n      text-align center\n      font-size 18px\n      color rgba(255, 255, 255, 0.9)\n\n      &:hover\n        color #34c6ff\n        background-color rgba(0, 0, 0, 0.6)\n        transition: .4s\n\n      i\n        vertical-align middle\n\n    h1\n      display inline-block\n      margin 0\n      margin-left 8px\n      padding 0\n      height height\n      line-height height\n      font-size 14px\n      letter-spacing 0.03em\n      font-weight normal\n      color rgba(255, 255, 255, 0.9)\n\n  .right\n    width 340px\n    text-align right\n\n    button\n      height 32px\n      padding 0 16px\n      line-height 32px\n      background-color rgba(0, 0, 0, 0)\n      border none\n      color rgba(255, 255, 255, 0.5)\n      font-size 12px\n      cursor pointer\n\n      &:hover\n        background-color #333\n        color rgba(255, 255, 255, .9)\n\n      i\n        vertical-align middle\n\n.video-player-and-scene-list-container\n  display flex\n  flex-direction column\n  position fixed\n  display flex\n  width 100%\n  height 100%\n\n  .video-player-container\n    transition-property all\n    transition-duration 1.2s\n    position relative\n    z-index 2\n    box-shadow 0 3px 6px rgba(0, 0, 0, .5)\n    width 100%\n\n    &.player-large\n      height 100%\n      flex 1\n\n    &.player-middle\n      height 180px\n\n      @media (min-height 440px)\n        height 270px\n\n      @media (min-height 560px)\n        height 360px\n\n      @media (min-height 630px)\n        height 450px // Tablet\n\n      @media (min-height 800px)\n        height 540px\n\n      @media (min-height 920px)\n        height 630px\n\n      @media (min-height 1040px)\n        height 720px\n\n      @media (min-height 1280px)\n        height 900px\n\n      @media (min-height 1400px)\n        height 1080px\n\n    &.player-small\n      height 90px\n\n      @media (min-height 520px)\n        height 180px\n\n      @media (min-height 920px)\n        height 270px\n\n      @media (min-height 1400px)\n        height 360px\n\n  .scene-list-container\n    overflow scroll\n    transition-property all\n    transition-duration 1.2s\n    z-index 1\n    background-color #333\n\n    &.player-large\n      height 0\n\n    &.player-middle\n      flex 1\n\n    &.player-small\n      flex 1\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoPage.vue?vue&type=template&id=5536632f&scoped=true&lang=pug&\"\nimport script from \"./VideoPage.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoPage.vue?vue&type=style&index=0&id=5536632f&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5536632f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv\n</template>\n\n<script>\nexport default {\n  created: async function() {\n    const response = await fetch('/api/random')\n    const json = await response.json()\n    this.$router.replace(`/video/${json.path}`)\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RandomPage.vue?vue&type=template&id=e13b2c3e&lang=pug&\"\nimport script from \"./RandomPage.vue?vue&type=script&lang=js&\"\nexport * from \"./RandomPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('search-header'),_c('video-list',{attrs:{\"entries\":_vm.entries}}),_c('thumbnailer-progress')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"left\"},[_c('router-link',{staticClass:\"back-button\",attrs:{\"to\":_vm.linkToList('')}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"arrow_back\")])]),_c('h1',[_vm._v(_vm._s(_vm.query))])],1),_c('div',{staticClass:\"right\"},[_c('input',{staticClass:\"search\",attrs:{\"placeholder\":\"Search\"},domProps:{\"value\":_vm.query},on:{\"change\":_vm.onSearchInputChange,\"keydown\":function($event){$event.stopPropagation();}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nnav\n  .bottom\n    .left\n      router-link.back-button(:to=\"linkToList('')\")\n        i.material-icons arrow_back\n      h1\n        | {{ query }}\n    .right\n      input.search(\n        @change=\"onSearchInputChange\"\n        @keydown.stop\n        :value=\"query\"\n        placeholder=\"Search\"\n      )\n</template>\n\n<script>\nimport VideoPath from '../mixins/VideoPath'\n\nexport default {\n  mixins: [VideoPath],\n  computed: {\n    query() {\n      return this.$route.params.query\n    }\n  },\n  methods: {\n    //\n    // Search event\n    //\n    onSearchInputChange(event) {\n      const query = event.currentTarget.value\n      if (query.length === 0) return\n      this.$router.push({\n        name: 'search',\n        params: { query: query }\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import \"../styles/video-list-header.styl\"\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchHeader.vue?vue&type=template&id=858bf3a0&scoped=true&lang=pug&\"\nimport script from \"./SearchHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchHeader.vue?vue&type=style&index=0&id=858bf3a0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"858bf3a0\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\ndiv\n  search-header\n  video-list(:entries=\"entries\")\n  thumbnailer-progress\n</template>\n\n<script>\nimport SearchHeader from '../components/SearchHeader'\nimport VideoList from '../components/VideoList'\nimport ThumbnailerProgress from '../components/ThumbnailerProgress'\n\nexport default {\n  data () {\n    return {\n      entries: [],\n    }\n  },\n  computed: {\n    query() {\n      return this.$route.params.query\n    }\n  },\n  watch: {\n    '$route': function() {\n      this.updateEntries()\n    }\n  },\n  created: async function() {\n    this.updateEntries()\n  },\n  methods: {\n    async updateEntries() {\n      const response = await fetch(`/api/search/${this.query}`)\n      this.entries = await response.json()\n    },\n  },\n  components: {\n    SearchHeader,\n    VideoList,\n    ThumbnailerProgress\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPage.vue?vue&type=template&id=e6d94a70&scoped=true&lang=pug&\"\nimport script from \"./SearchPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6d94a70\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport VideoDirPage from '../views/VideoDirPage'\nimport VideoPage from '../views/VideoPage'\nimport RandomPage from '../views/RandomPage'\nimport SearchPage from '../views/SearchPage'\n\nVue.use(VueRouter)\n\nconst routes = [\n\n  {\n    path: '/',\n    component: VideoDirPage,\n    alias: '/list/'\n  },\n  {\n    path: '/list/*',\n    component: VideoDirPage,\n  },\n  {\n    path: '/video/*',\n    component: VideoPage,\n  },\n  {\n    path: '/random',\n    component: RandomPage,\n  },\n  {\n    path: '/search/:query',\n    name: 'search',\n    component: SearchPage\n  }\n  \n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport VueNativeSock from 'vue-native-websocket'\nimport { PlayerMode } from '../enums/enum'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  state: {\n    video: {\n      duration: 0,\n      startTime: 0,\n      spriteImagePath: null,\n      sceneInterval: null,\n      playerMode: PlayerMode.MIDDLE,\n    },\n    socket: {\n      isConnected: false,\n      reconnectError: false,\n    },\n    thumbnailerQueue: {\n      title: '',\n      progress: 0,\n      totalCount: 0,\n      completeCount: 0,\n      failedCount: 0,\n    }\n  },\n  getters: {\n    timestamps: state => {\n      if (!state.video.duration || !state.video.sceneInterval) {\n        return []\n      }\n      const times = []\n      for (let time = 0; time <= state.video.duration; time += state.video.sceneInterval) {\n        times.push(time)\n      }\n      return times\n    },\n  },\n  mutations: {\n    setVideoStartTime(state, time) {\n      state.video.startTime = time\n    },\n    setVideoInfo(state, info) {\n      state.video.duration = Math.floor(info.duration)\n      state.video.sceneInterval = info.interval\n      state.video.spriteImagePath = info.spriteImagePath\n    },\n    setPlayerMode(state, playerMode) {\n      state.video.playerMode = playerMode\n    },\n    SOCKET_THUMBNAILER_PROGRESS(state, info) {\n      state.thumbnailerQueue = info.thumbnailerQueue\n    },\n    SOCKET_THUMBNAILER_COMPLETE(state) {\n      state.thumbnailerQueue = {\n        title: '',\n        progress: 0,\n        totalCount: 0,\n        completeCount: 0,\n      }\n    },\n    SOCKET_ONOPEN(state) {\n      state.socket.isConnected = true\n    },\n    SOCKET_ONCLOSE(state) {\n      state.socket.isConnected = false\n      console.warn('WebSocket: closed')\n    },\n    SOCKET_RECONNECT() {\n      console.info('WebSocket: reconnected')\n    },\n    SOCKET_RECONNECT_ERROR(state) {\n      state.socket.reconnectError = true\n      console.error('WebSocket: unable to reconnect')\n    },\n    SOCKET_ONERROR ()  {\n      console.error('WebSocket: unable to connect')\n    },\n  },\n  actions: {\n    async initVideo({ commit }, path) {\n      commit('setVideoStartTime', 0)\n      commit('setPlayerMode', PlayerMode.MIDDLE)\n      if (path && path.length > 0) {\n        const response = await fetch(`/api/video/info/${path}`)\n        const json = await response.json()\n        commit('setVideoInfo', json)\n      }\n    },\n    startVideoAt({ commit }, time) {\n      commit('setVideoStartTime', time)\n    },\n    //\n    // PlayerMode\n    //\n    switchToSmallMode({ commit }) {\n      commit('setPlayerMode', PlayerMode.SMALL)\n    },\n    switchToMiddleMode({ commit }) {\n      commit('setPlayerMode', PlayerMode.MIDDLE)\n    },\n    switchToLargeMode({ commit }) {\n      commit('setPlayerMode', PlayerMode.LARGE)\n    },\n    togglePlayerMode({ commit, state }) {\n      if (state.video.playerMode === PlayerMode.LARGE) {\n        commit('setPlayerMode', PlayerMode.MIDDLE)\n      } else {\n        commit('setPlayerMode', PlayerMode.LARGE)\n      }\n    },\n  }\n})\n\nVue.use(VueNativeSock, `ws://${location.host}/ws/`, {\n  store: store,\n  format: 'json',\n  reconnection: true,\n  reconnectionDelay: 10000,\n})\n\nexport default store","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\n\nVue.config.productionTip = true\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbnailerProgress.vue?vue&type=style&index=0&id=34d40f04&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThumbnailerProgress.vue?vue&type=style&index=0&id=34d40f04&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneList.vue?vue&type=style&index=0&id=595a988e&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SceneList.vue?vue&type=style&index=0&id=595a988e&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHeader.vue?vue&type=style&index=0&id=858bf3a0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchHeader.vue?vue&type=style&index=0&id=858bf3a0&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayer.vue?vue&type=style&index=0&id=1bc56d96&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPlayer.vue?vue&type=style&index=0&id=1bc56d96&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPage.vue?vue&type=style&index=0&id=5536632f&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoPage.vue?vue&type=style&index=0&id=5536632f&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=style&index=0&id=09eab780&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListHeader.vue?vue&type=style&index=0&id=09eab780&lang=stylus&scoped=true&\""],"sourceRoot":""}